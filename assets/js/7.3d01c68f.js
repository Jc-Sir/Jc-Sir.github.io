(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{412:function(t,a,s){t.exports=s.p+"assets/img/arealayer.0900c8a6.png"},561:function(t,a,s){t.exports=s.p+"assets/img/layers.50268f96.png"},562:function(t,a,s){t.exports=s.p+"assets/img/pointlayer.d37c1e14.png"},563:function(t,a,s){t.exports=s.p+"assets/img/linelayer.ffe5825d.png"},564:function(t,a,s){t.exports=s.p+"assets/img/vectortile.1e463949.png"},763:function(t,a,s){"use strict";s.r(a);var e=s(25),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"地图图层layers详解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#地图图层layers详解"}},[t._v("#")]),t._v(" 地图图层Layers详解")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#什么是图层"}},[t._v("什么是图层？")]),e("ul",[e("li",[e("a",{attrs:{href:"#点状图层"}},[t._v("点状图层")])]),e("li",[e("a",{attrs:{href:"#线状图层"}},[t._v("线状图层")])]),e("li",[e("a",{attrs:{href:"#面状图层"}},[t._v("面状图层")])])])]),e("li",[e("a",{attrs:{href:"#图层源可以有多个"}},[t._v("图层源可以有多个")])]),e("li",[e("a",{attrs:{href:"#layers常见属性"}},[t._v("Layers常见属性")]),e("ul",[e("li",[e("a",{attrs:{href:"#layers常见方法"}},[t._v("Layers常见方法")])])])]),e("li",[e("a",{attrs:{href:"#layers各种图层及图层类型"}},[t._v("Layers各种图层及图层类型")]),e("ul",[e("li",[e("a",{attrs:{href:"#graticule-地图上覆盖的网格标尺图层"}},[t._v("Graticule 地图上覆盖的网格标尺图层")])]),e("li",[e("a",{attrs:{href:"#heatmap-热力图层"}},[t._v("HeatMap-热力图层")])]),e("li",[e("a",{attrs:{href:"#vector-矢量图层"}},[t._v("Vector-矢量图层")])]),e("li",[e("a",{attrs:{href:"#image-layer-单张图片的矢量图层"}},[t._v("Image Layer-单张图片的矢量图层")])]),e("li",[e("a",{attrs:{href:"#vectortile-layer-矢量瓦片图层"}},[t._v("VectorTile Layer，矢量瓦片图层")])]),e("li",[e("a",{attrs:{href:"#webglpoints-webgl-渲染的海量点图层"}},[t._v("WebGLPoints，WebGL 渲染的海量点图层")])])])]),e("li",[e("a",{attrs:{href:"#图层按渲染的位置分类"}},[t._v("图层按渲染的位置分类")])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"什么是图层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是图层"}},[t._v("#")]),t._v(" 什么是图层？")]),t._v(" "),e("p",[t._v("通俗地讲，图层就像是含有文字或图形等元素的胶片，一张张按顺序叠放在一起，组合起来形成页面的最终效果。图层可以将页面上的元素精确定位\n"),e("img",{attrs:{src:s(561),alt:""}})]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("openlayers 中，图层是使用 layer 对象表示的，主要有")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("WebGLPoints Layer")]),t._v("、")]),t._v(" "),e("li",[e("code",[t._v("热度图(HeatMap Layer)")]),t._v("、")]),t._v(" "),e("li",[e("code",[t._v("图片图层(Image Layer)")]),t._v("、")]),t._v(" "),e("li",[e("code",[t._v("切片图层(Tile Layer)")]),t._v("、")]),t._v(" "),e("li",[e("code",[t._v("矢量图层(Vector Layer)")])])]),t._v(" "),e("p",[t._v("五种类型，它们都是继承 Layer 类的。")])]),t._v(" "),e("h3",{attrs:{id:"点状图层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#点状图层"}},[t._v("#")]),t._v(" 点状图层")]),t._v(" "),e("p",[t._v("点状图层："),e("strong",[t._v("建筑、店铺、学校、红绿灯、自定义标记")]),t._v("等场景等应用（如下搜索的是成都市景点）\n"),e("img",{attrs:{src:s(562),alt:"点状图层"}})]),t._v(" "),e("h3",{attrs:{id:"线状图层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#线状图层"}},[t._v("#")]),t._v(" 线状图层")]),t._v(" "),e("p",[t._v("线状："),e("strong",[t._v("道路、河流、线路、运行轨迹")]),t._v("等应用（如下搜索的一段行车线路）\n"),e("img",{attrs:{src:s(563),alt:"线状图层"}})]),t._v(" "),e("h3",{attrs:{id:"面状图层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#面状图层"}},[t._v("#")]),t._v(" 面状图层")]),t._v(" "),e("p",[t._v("面状图层："),e("strong",[t._v("有一定范围的地物,如某行政区域，实现网格化管理区域等")]),t._v(" "),e("img",{attrs:{src:s(412),alt:"面状图层"}})]),t._v(" "),e("h2",{attrs:{id:"图层源可以有多个"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#图层源可以有多个"}},[t._v("#")]),t._v(" 图层源可以有多个")]),t._v(" "),e("p",[t._v("从初始化地图中可以看出 layeres是一个数组。\n"),e("RouterLink",{attrs:{to:"/openlayers/初始化一个地图.html"}},[t._v("查看初始化地图(高亮代码)")])],1),t._v(" "),e("h2",{attrs:{id:"layers常见属性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#layers常见属性"}},[t._v("#")]),t._v(" Layers常见属性")]),t._v(" "),e("p",[t._v("前六个常用")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("属性名")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("source")]),t._v(" "),e("td",[t._v("指定了图层的数据来源，图层作用是以一定的样式渲染数据，source则指定了数据；")])]),t._v(" "),e("tr",[e("td",[t._v("className")]),t._v(" "),e("td",[t._v("图层各个元素的样式")])]),t._v(" "),e("tr",[e("td",[t._v("zIndex")]),t._v(" "),e("td",[t._v("图层的叠加次序，默认是0，最底层，如果使用setMap方法添加的图层，zIndex值是Infinity，在最上层")])]),t._v(" "),e("tr",[e("td",[t._v("extent")]),t._v(" "),e("td",[t._v("图层渲染的区域，即浏览器窗口中可见的地图区域。extent 是一个矩形范围，格式是[number, number, number, number] 分别代表 [left, bottom, right, top]为了提升渲染效率和加载速度，extent范围之外的瓦片是不会请求的，当然也不会渲染")])]),t._v(" "),e("tr",[e("td",[t._v("opacity")]),t._v(" "),e("td",[t._v("不透明度（0，1），默认为 1 ，即完全透明")])]),t._v(" "),e("tr",[e("td",[t._v("visible")]),t._v(" "),e("td",[t._v("布尔值 （默认为true） 能见度。")])]),t._v(" "),e("tr",[e("td",[t._v("render")]),t._v(" "),e("td",[t._v("渲染功能。将框架状态作为输入，并期望返回HTML元素。将覆盖该图层的默认渲染")])]),t._v(" "),e("tr",[e("td",[t._v("map")]),t._v(" "),e("td",[t._v("地图。")])]),t._v(" "),e("tr",[e("td",[t._v("minResolution")]),t._v(" "),e("td",[t._v("图层可见的最小分辨率；")])]),t._v(" "),e("tr",[e("td",[t._v("maxResolution")]),t._v(" "),e("td",[t._v("图层可见的最大分辨率；")])]),t._v(" "),e("tr",[e("td",[t._v("minZoom")]),t._v(" "),e("td",[t._v("最小视图缩放级别（不包括），在该级别之上该层将可见。")])]),t._v(" "),e("tr",[e("td",[t._v("maxZoom")]),t._v(" "),e("td",[t._v("该图层可见的最大视图缩放级别（包括该级别）")])])])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" TileLayer "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ol/layer/Tile"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("XYZ")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ol/source"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" mapUrl "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://192.168.1.4:8000'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 电子地图")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" overlay "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TileLayer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("source")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XYZ")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("mapUrl"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("/overlay/{z}/{x}/{y}.png")]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("visible")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("zIndex")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...其他属性")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 卫星地图")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" satellite "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TileLayer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("source")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XYZ")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("mapUrl"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("/satellite/{z}/{x}/{y}.jpg")]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("visible")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("zIndex")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...其他属性")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),e("h3",{attrs:{id:"layers常见方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#layers常见方法"}},[t._v("#")]),t._v(" Layers常见方法")]),t._v(" "),e("p",[t._v("上面的属性都有对应的"),e("code",[t._v("get")]),t._v("&"),e("code",[t._v("set")]),t._v("方法")]),t._v(" "),e("p",[t._v("代码示例")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 电子地图")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" overlay "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TileLayer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("source")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XYZ")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("mapUrl"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("/overlay/{z}/{x}/{y}.png")]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("visible")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("zIndex")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nsatellite"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getVisible")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\nsatellite"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setVisible")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将overlay Layers的visible 设置为false")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 其他属性的方法类似 详情见官网")]),t._v("\n")])])]),e("p",[e("a",{attrs:{href:"https://openlayers.org/en/latest/apidoc/module-ol_layer_Tile-TileLayer.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Layers更多细节"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"layers各种图层及图层类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#layers各种图层及图层类型"}},[t._v("#")]),t._v(" Layers各种图层及图层类型")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("图层类型")]),t._v(" "),e("p",[t._v("从渲染发生的地方来看，openlayers的图层主要分为两类：Vector（矢量）和Raster（栅格），")]),t._v(" "),e("ul",[e("li",[t._v("矢量图层是指在渲染发生在浏览器的图层，source返回的数据类型是矢量，如geojson的坐标串；")]),t._v(" "),e("li",[t._v("栅格图层则是由服务器渲染，返回到浏览器的是一张张的瓦片图片，"),e("font",{staticStyle:{color:"red"}},[t._v("栅格图层主要是展示。")])],1)])]),t._v(" "),e("p",[e("strong",[t._v("矢量图层类型有:")])]),t._v(" "),e("ul",[e("li",[t._v("Graticule，地图上覆盖的网格标尺图层")]),t._v(" "),e("li",[t._v("HeatMap，热力图")]),t._v(" "),e("li",[t._v("Vector，矢量图")]),t._v(" "),e("li",[t._v("VectorImage，单张的矢量图层")]),t._v(" "),e("li",[t._v("VectorTile，矢量瓦片图层")]),t._v(" "),e("li",[t._v("WebGLPoints，WebGL渲染的海量点图层")])]),t._v(" "),e("p",[e("strong",[t._v("栅格图层类型有:")])]),t._v(" "),e("ul",[e("li",[t._v("栅格图层类型较为简单，只有Tile图层")])]),t._v(" "),e("h3",{attrs:{id:"graticule-地图上覆盖的网格标尺图层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#graticule-地图上覆盖的网格标尺图层"}},[t._v("#")]),t._v(" Graticule 地图上覆盖的网格标尺图层")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://openlayers.org/en/latest/examples/graticule.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("👉查看 网络标尺图层"),e("OutboundLink")],1)]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Graticule "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ol/layer/Graticule'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Stroke "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ol/style/Stroke'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" graticule "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Graticule")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("strokeStyle")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Stroke")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("color")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rgba(255,120,0,0.9)'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("width")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("lineDash")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("showLabels")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("wrapX")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("zIndex")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("target")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mapcontainer"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("layers")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("graticule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 多个图层")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("h3",{attrs:{id:"heatmap-热力图层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#heatmap-热力图层"}},[t._v("#")]),t._v(" HeatMap-热力图层")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://openlayers.org/en/latest/examples/heatmap-earthquakes.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("👉热力图层"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"vector-矢量图层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vector-矢量图层"}},[t._v("#")]),t._v(" Vector-矢量图层")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://openlayers.org/en/latest/examples/hitdetect-vector.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("👉Vector矢量图层"),e("OutboundLink")],1),t._v("\n矢量图层：")]),t._v(" "),e("ul",[e("li",[t._v("矢量图层是用来渲染矢量数据的图层类型，在OpenLayers里，它是可以定制的，可以控制它的透明度，颜色，以及加载在上面的要素形状等。")]),t._v(" "),e("li",[t._v("常用于从数据库中请求数据，接受数据，并将接收的数据解析成图层上的信息。")]),t._v(" "),e("li",[t._v("如将鼠标移入，相应的区域会以红色高亮显示出来，高亮便是矢量图层的行为。\n"),e("img",{attrs:{src:s(412),alt:"矢量图层"}})])]),t._v(" "),e("h3",{attrs:{id:"image-layer-单张图片的矢量图层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#image-layer-单张图片的矢量图层"}},[t._v("#")]),t._v(" Image Layer-单张图片的矢量图层")]),t._v(" "),e("p",[t._v("继承了 "),e("code",[t._v("ol.layer.Image")]),t._v(" 类，主要是指服务器端渲染的图像，可能是已经渲染好的图像，或者是每一次请求，都根据请求内容定制化地生成一幅图片，该图层类型支持任意的范围和分辨率。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" extent "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("968")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//表示图片的尺寸")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" projection "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ol"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("proj"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Projection")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("code")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'EPSG:3857'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("extent")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" extent\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" imageLayer "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ol"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("layer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("source")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ol"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("source"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ImageStatic")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'image/home.png'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("projection")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" projection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("imageExtent")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" extent\n\t    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" map "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ol"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Map")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//初始化map")]),t._v("\n\t    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("target")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'map'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("layers")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t        imageLayer\n\t    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("view")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ol"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("View")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("projection")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" projection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("center")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ol"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCenter")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("extent"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("zoom")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n\t    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("首先需要传入 url参数，即图片地址，这里可以是网络图片的地址，或者是本地的文件地址；然后需要传入参考坐标系 projection，code是一个标识，可以是任何字符串，如果是EPSG：4326 或者是 EPSG：3857 ，那么就会使用这两个坐标系，如果不是，就使用默认的坐标系，extent是一个矩形范围，上面已经提到；imageLayer 的第三个参数是 imageExtent表示图片的尺寸，这里我们不能改变图片的原来的比例，图片只会根据原来的比例放大或缩小。")]),t._v(" "),e("h3",{attrs:{id:"vectortile-layer-矢量瓦片图层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vectortile-layer-矢量瓦片图层"}},[t._v("#")]),t._v(" VectorTile Layer，矢量瓦片图层")]),t._v(" "),e("p",[t._v("切片地图是比较常用的图层类型，切片的概念，就是利用网格将一幅地图切成大小相等的小正方形，如图：\n"),e("img",{attrs:{src:s(564),alt:"vectortile"}})]),t._v(" "),e("p",[t._v("当请求地图的时候，会请求视口（也就是浏览器可见的区域）可见的区域内包含的切片，其余的切片不会请求，这样就节省了网络带宽，而且一般这些切片都是预先切好的，且分为不同的缩放级别，根据不同的缩放级别分成不同的目录。如果将这些切片地图放到缓存中，那访问速度会更快。")]),t._v(" "),e("h3",{attrs:{id:"webglpoints-webgl-渲染的海量点图层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webglpoints-webgl-渲染的海量点图层"}},[t._v("#")]),t._v(" WebGLPoints，WebGL 渲染的海量点图层")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://openlayers.org/en/latest/examples/webgl-points-layer.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("👉渲染的海量点图层"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"图层按渲染的位置分类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#图层按渲染的位置分类"}},[t._v("#")]),t._v(" 图层按渲染的位置分类")]),t._v(" "),e("ul",[e("li",[t._v("一类是在服务器端渲染好，以图片形式返回浏览器的， "),e("code",[t._v("imagelayer")]),t._v(" 和 "),e("code",[t._v("tilelayer")]),t._v("都是属于这种类型")]),t._v(" "),e("li",[t._v("一类是在浏览器渲染的图层类型，"),e("code",[t._v("vectorlayer")]),t._v(" 和 "),e("code",[t._v("heatmaplayer")]),t._v("就是这种类型。")])])])}),[],!1,null,null,null);a.default=r.exports}}]);