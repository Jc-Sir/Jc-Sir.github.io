(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{684:function(t,a,s){"use strict";s.r(a);var e=s(25),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"nodejs中apidoc的使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejs中apidoc的使用"}},[t._v("#")]),t._v(" NodeJs中apidoc的使用")]),t._v(" "),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" apidoc -g \n")])])]),s("h2",{attrs:{id:"配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[t._v("#")]),t._v(" 配置文件")]),t._v(" "),s("p",[t._v("在项目根目录创建apidoc.json文件")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("ul",[s("li",[t._v("1、apidoc.json文件不是必须创建在项目中，而是为了方便操作。")]),t._v(" "),s("li",[t._v("2、若没有配置sampleUrl参数，apiDoc最终生成的API文档内将没有测试api方法。")])])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx-api"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.1.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xx项目接口文档"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xx项目接口文档"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://127.0.0.1:3000"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 端口跟项目端口一致")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sampleUrl"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://127.0.0.1:3000"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"forceLanguage"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh-cn"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"template"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"withCompare"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 启用与旧版api的比较。默认：true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"withGenerator"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在页脚输出生成器信息。默认：true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("name")]),t._v(" "),s("td",[t._v("项目名称。如果apidoc.json该字段不存在，则apiDoc尝试从确定值package.json。")])]),t._v(" "),s("tr",[s("td",[t._v("version")]),t._v(" "),s("td",[t._v("项目的版本。如果apidoc.json该字段不存在，则apiDoc尝试从确定值package.json。")])]),t._v(" "),s("tr",[s("td",[t._v("description")]),t._v(" "),s("td",[t._v("项目简介,如果apidoc.json该字段不存在，则apiDoc尝试从确定值package.json。")])]),t._v(" "),s("tr",[s("td",[t._v("title")]),t._v(" "),s("td",[t._v("浏览器标题文字。")])]),t._v(" "),s("tr",[s("td",[t._v("url")]),t._v(" "),s("td",[t._v("api路径的前缀，例如 http://127.0.0.1:3000/v1")])]),t._v(" "),s("tr",[s("td",[t._v("sampleUrl")]),t._v(" "),s("td",[t._v("如果设置，则将显示用于测试api方法（发送请求）的表单。有关更多详细信息，请参见@apiSampleRequest。")])]),t._v(" "),s("tr",[s("td",[t._v("forceLanguage")]),t._v(" "),s("td",[t._v("禁用浏览器语言自动检测并设置特定的语言环境。")])]),t._v(" "),s("tr",[s("td",[t._v("header")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("---title")]),t._v(" "),s("td",[t._v("包含的header.md文件的导航文本。")])]),t._v(" "),s("tr",[s("td",[t._v("---filename")]),t._v(" "),s("td",[t._v("包含的header.md文件的文件名（markdown-file）。")])]),t._v(" "),s("tr",[s("td",[t._v("footer")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("---title")]),t._v(" "),s("td",[t._v("包含的footer.md文件的导航文本。")])]),t._v(" "),s("tr",[s("td",[t._v("---filename")]),t._v(" "),s("td",[t._v("包含的footer.md文件的文件名（markdown文件）。")])]),t._v(" "),s("tr",[s("td",[t._v("order")]),t._v(" "),s("td",[t._v("用于排序输出的api名称/组名称的列表。未定义的名称将自动显示在最后。")])])])]),t._v(" "),s("h2",{attrs:{id:"注释使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注释使用"}},[t._v("#")]),t._v(" 注释使用")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/**\n * @api {post} /file/checkfile Check File\n * @apiName CheckFile\n * @apiGroup file\n *\n * @apiBody  {String} [ext] File extension.\n * @apiBody  {String} [hash] File hash.\n *\n * @apiSuccess {Number} code Response code.\n * @apiSuccess {Object} data Response data.\n * @apiSuccess {Boolean} data.uploaded Indicates if the file is uploaded or not.\n * @apiSuccess {Array} data.uploadedList List of uploaded files.\n *\n * @apiParamExample {json} Request Body Example:\n *     {\n *       "ext": "2",\n *       "hash": "2"\n *     }\n *\n * @apiSuccessExample {json} Success Response:\n *     HTTP/1.1 200 OK\n *     {\n *       "code": 0,\n *       "data": {\n *         "uploaded": true,\n *         "uploadedList": []\n *       }\n *     }\n *\n * @apiErrorExample {json} Error Response:\n *     HTTP/1.1 404 Not Found\n *     {\n *       "code": 1,\n *       "message": "File not found"\n *     }\n */')]),t._v("\n\n\n")])])]),s("h2",{attrs:{id:"生成文档"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生成文档"}},[t._v("#")]),t._v(" 生成文档")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("apidoc -i "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("项目完整路径"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" -o apidoc/ \n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 示例")]),t._v("\napidoc -i G:/workspqce/project/xx-web/ -o apidoc/ \n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("参数")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("-f")]),t._v(" "),s("td",[t._v("[正则表达式]选择要解析的文件。默认.cs .dart .erl .go .java .js .php .py .rb .ts。示例（仅解析.js和.ts文件）"),s("code",[t._v('apidoc -f ".*\\\\.js$" -f ".*\\\\.ts$"')])])]),t._v(" "),s("tr",[s("td",[t._v("-i")]),t._v(" "),s("td",[t._v("输入/源目录名。项目文件的位置。")])]),t._v(" "),s("tr",[s("td",[t._v("-o")]),t._v(" "),s("td",[t._v("输出目录名   放置生成的文档的位置。")])]),t._v(" "),s("tr",[s("td",[t._v("-t")]),t._v(" "),s("td",[t._v("使用模板输出文件。您可以创建和使用自己的模板。")])]),t._v(" "),s("tr",[s("td",[t._v("-e")]),t._v(" "),s("td",[t._v("输出文件时排除文件")])])])]),t._v(" "),s("p",[t._v("生成的index.html打开就可以使用了")])])}),[],!1,null,null,null);a.default=n.exports}}]);