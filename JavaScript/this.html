<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>搞懂this指向 | JunCai He</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon2.png">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.2/jquery.fancybox.min.js"></script>
    <meta name="description" content="Replace the stars and rivers in the body with unlimited methods for the future.">
    
    <link rel="preload" href="/assets/css/0.styles.6f9a1e5e.css" as="style"><link rel="preload" href="/assets/js/app.4ddddac2.js" as="script"><link rel="preload" href="/assets/js/2.d1971905.js" as="script"><link rel="preload" href="/assets/js/25.4efee689.js" as="script"><link rel="prefetch" href="/assets/js/10.e743d1b5.js"><link rel="prefetch" href="/assets/js/100.1afba995.js"><link rel="prefetch" href="/assets/js/101.b28df92b.js"><link rel="prefetch" href="/assets/js/102.6403fd77.js"><link rel="prefetch" href="/assets/js/103.c23cbd8d.js"><link rel="prefetch" href="/assets/js/104.9f4ad15e.js"><link rel="prefetch" href="/assets/js/105.c6087ba4.js"><link rel="prefetch" href="/assets/js/106.57de072b.js"><link rel="prefetch" href="/assets/js/107.ceb43627.js"><link rel="prefetch" href="/assets/js/108.688d38d1.js"><link rel="prefetch" href="/assets/js/109.3452b4cc.js"><link rel="prefetch" href="/assets/js/11.e758da1c.js"><link rel="prefetch" href="/assets/js/110.e8dd02f4.js"><link rel="prefetch" href="/assets/js/111.60aeb676.js"><link rel="prefetch" href="/assets/js/112.443be38c.js"><link rel="prefetch" href="/assets/js/113.2c88303d.js"><link rel="prefetch" href="/assets/js/114.8ba36768.js"><link rel="prefetch" href="/assets/js/115.0d3c4f3b.js"><link rel="prefetch" href="/assets/js/116.5086c19a.js"><link rel="prefetch" href="/assets/js/117.cd2b0229.js"><link rel="prefetch" href="/assets/js/118.edd90784.js"><link rel="prefetch" href="/assets/js/119.c0b9b99b.js"><link rel="prefetch" href="/assets/js/12.d059ebde.js"><link rel="prefetch" href="/assets/js/120.02a63bd0.js"><link rel="prefetch" href="/assets/js/121.216da65e.js"><link rel="prefetch" href="/assets/js/122.8a2b51e1.js"><link rel="prefetch" href="/assets/js/123.c302ddf0.js"><link rel="prefetch" href="/assets/js/124.6a7ca40d.js"><link rel="prefetch" href="/assets/js/125.7a1335dc.js"><link rel="prefetch" href="/assets/js/126.d4322730.js"><link rel="prefetch" href="/assets/js/127.938c75a1.js"><link rel="prefetch" href="/assets/js/128.25fe9c6d.js"><link rel="prefetch" href="/assets/js/129.9eeab2bc.js"><link rel="prefetch" href="/assets/js/13.77d45c36.js"><link rel="prefetch" href="/assets/js/130.c713bf5c.js"><link rel="prefetch" href="/assets/js/131.91587d00.js"><link rel="prefetch" href="/assets/js/132.6a87f25b.js"><link rel="prefetch" href="/assets/js/133.123002b1.js"><link rel="prefetch" href="/assets/js/134.f4ea0bad.js"><link rel="prefetch" href="/assets/js/135.9f439be7.js"><link rel="prefetch" href="/assets/js/136.226b2247.js"><link rel="prefetch" href="/assets/js/137.f1bcc1d2.js"><link rel="prefetch" href="/assets/js/138.0ded6f30.js"><link rel="prefetch" href="/assets/js/139.bbaf0e18.js"><link rel="prefetch" href="/assets/js/14.f17f96e8.js"><link rel="prefetch" href="/assets/js/140.184749e3.js"><link rel="prefetch" href="/assets/js/141.b926d73d.js"><link rel="prefetch" href="/assets/js/142.611accf3.js"><link rel="prefetch" href="/assets/js/143.f687167b.js"><link rel="prefetch" href="/assets/js/144.310b67a3.js"><link rel="prefetch" href="/assets/js/145.b3c7cb09.js"><link rel="prefetch" href="/assets/js/146.cdc76456.js"><link rel="prefetch" href="/assets/js/147.99b9b2cb.js"><link rel="prefetch" href="/assets/js/148.e74c7238.js"><link rel="prefetch" href="/assets/js/149.fbcf9061.js"><link rel="prefetch" href="/assets/js/15.9852acf1.js"><link rel="prefetch" href="/assets/js/150.2c19a38d.js"><link rel="prefetch" href="/assets/js/151.d788ad85.js"><link rel="prefetch" href="/assets/js/152.1d7d1732.js"><link rel="prefetch" href="/assets/js/153.da196f7d.js"><link rel="prefetch" href="/assets/js/154.9e090474.js"><link rel="prefetch" href="/assets/js/155.366c715e.js"><link rel="prefetch" href="/assets/js/156.b24753d7.js"><link rel="prefetch" href="/assets/js/157.705ada2f.js"><link rel="prefetch" href="/assets/js/158.808b8107.js"><link rel="prefetch" href="/assets/js/159.3f2514ad.js"><link rel="prefetch" href="/assets/js/16.48050122.js"><link rel="prefetch" href="/assets/js/160.b6364034.js"><link rel="prefetch" href="/assets/js/161.f7c057bb.js"><link rel="prefetch" href="/assets/js/162.8bd90877.js"><link rel="prefetch" href="/assets/js/163.0404c7bf.js"><link rel="prefetch" href="/assets/js/164.598e4b4f.js"><link rel="prefetch" href="/assets/js/165.35b4ca49.js"><link rel="prefetch" href="/assets/js/166.b8be1de7.js"><link rel="prefetch" href="/assets/js/167.eafed9bc.js"><link rel="prefetch" href="/assets/js/168.ac87bc42.js"><link rel="prefetch" href="/assets/js/169.a7733cf3.js"><link rel="prefetch" href="/assets/js/17.b235411c.js"><link rel="prefetch" href="/assets/js/170.2320af96.js"><link rel="prefetch" href="/assets/js/171.c295d2d5.js"><link rel="prefetch" href="/assets/js/172.e5ebff5c.js"><link rel="prefetch" href="/assets/js/173.985043d5.js"><link rel="prefetch" href="/assets/js/174.29e74d2e.js"><link rel="prefetch" href="/assets/js/175.cabf7265.js"><link rel="prefetch" href="/assets/js/176.d92a56e2.js"><link rel="prefetch" href="/assets/js/177.e809ea9f.js"><link rel="prefetch" href="/assets/js/178.3958702a.js"><link rel="prefetch" href="/assets/js/179.36711449.js"><link rel="prefetch" href="/assets/js/18.12d70f30.js"><link rel="prefetch" href="/assets/js/180.e988d362.js"><link rel="prefetch" href="/assets/js/181.de7fda17.js"><link rel="prefetch" href="/assets/js/182.83c4b488.js"><link rel="prefetch" href="/assets/js/183.b190607e.js"><link rel="prefetch" href="/assets/js/184.17dc3075.js"><link rel="prefetch" href="/assets/js/185.6d277543.js"><link rel="prefetch" href="/assets/js/186.c8d1f1fc.js"><link rel="prefetch" href="/assets/js/187.f3f45ec0.js"><link rel="prefetch" href="/assets/js/188.ac2b5a1d.js"><link rel="prefetch" href="/assets/js/189.b3988ba8.js"><link rel="prefetch" href="/assets/js/19.63722a47.js"><link rel="prefetch" href="/assets/js/190.e6de9488.js"><link rel="prefetch" href="/assets/js/191.1eb93387.js"><link rel="prefetch" href="/assets/js/192.d59ef58a.js"><link rel="prefetch" href="/assets/js/193.c32430a7.js"><link rel="prefetch" href="/assets/js/194.75424510.js"><link rel="prefetch" href="/assets/js/195.af0699d5.js"><link rel="prefetch" href="/assets/js/196.3daf2f60.js"><link rel="prefetch" href="/assets/js/197.d31a1fab.js"><link rel="prefetch" href="/assets/js/198.1e891eb4.js"><link rel="prefetch" href="/assets/js/199.5d15ffa7.js"><link rel="prefetch" href="/assets/js/20.8cf751b9.js"><link rel="prefetch" href="/assets/js/200.89b6f0e6.js"><link rel="prefetch" href="/assets/js/201.885e91e2.js"><link rel="prefetch" href="/assets/js/202.b9d45e45.js"><link rel="prefetch" href="/assets/js/203.483d9f85.js"><link rel="prefetch" href="/assets/js/204.bf0d7c3d.js"><link rel="prefetch" href="/assets/js/205.8d30f771.js"><link rel="prefetch" href="/assets/js/206.54154914.js"><link rel="prefetch" href="/assets/js/207.1b3c87e5.js"><link rel="prefetch" href="/assets/js/208.fc1fa477.js"><link rel="prefetch" href="/assets/js/209.16de849e.js"><link rel="prefetch" href="/assets/js/21.217c3327.js"><link rel="prefetch" href="/assets/js/210.e1a3bab3.js"><link rel="prefetch" href="/assets/js/211.7d5f2ba9.js"><link rel="prefetch" href="/assets/js/212.2d1bc665.js"><link rel="prefetch" href="/assets/js/213.421758b4.js"><link rel="prefetch" href="/assets/js/214.0e8e6b4e.js"><link rel="prefetch" href="/assets/js/215.8bb9bcc7.js"><link rel="prefetch" href="/assets/js/216.e64e855c.js"><link rel="prefetch" href="/assets/js/217.1329104b.js"><link rel="prefetch" href="/assets/js/218.8866a566.js"><link rel="prefetch" href="/assets/js/219.91f42625.js"><link rel="prefetch" href="/assets/js/22.afd2c90b.js"><link rel="prefetch" href="/assets/js/220.85edfb95.js"><link rel="prefetch" href="/assets/js/221.285d42c8.js"><link rel="prefetch" href="/assets/js/222.200d8ff1.js"><link rel="prefetch" href="/assets/js/23.f6e60b75.js"><link rel="prefetch" href="/assets/js/24.a73c30ca.js"><link rel="prefetch" href="/assets/js/26.fe471cec.js"><link rel="prefetch" href="/assets/js/27.f3f0d733.js"><link rel="prefetch" href="/assets/js/28.bce3d7cd.js"><link rel="prefetch" href="/assets/js/29.32effafb.js"><link rel="prefetch" href="/assets/js/3.03f34268.js"><link rel="prefetch" href="/assets/js/30.788916be.js"><link rel="prefetch" href="/assets/js/31.f69cd343.js"><link rel="prefetch" href="/assets/js/32.2810738b.js"><link rel="prefetch" href="/assets/js/33.cf5cee1f.js"><link rel="prefetch" href="/assets/js/34.05dacffd.js"><link rel="prefetch" href="/assets/js/35.f38f07e8.js"><link rel="prefetch" href="/assets/js/36.a40c675e.js"><link rel="prefetch" href="/assets/js/37.7d64735c.js"><link rel="prefetch" href="/assets/js/38.1407fb1c.js"><link rel="prefetch" href="/assets/js/39.edeb96ed.js"><link rel="prefetch" href="/assets/js/4.9472389f.js"><link rel="prefetch" href="/assets/js/40.3b34a3af.js"><link rel="prefetch" href="/assets/js/41.6b6e1da0.js"><link rel="prefetch" href="/assets/js/42.ac13be3a.js"><link rel="prefetch" href="/assets/js/43.4bb0b1b2.js"><link rel="prefetch" href="/assets/js/44.7bd79ba8.js"><link rel="prefetch" href="/assets/js/45.49d3e642.js"><link rel="prefetch" href="/assets/js/46.beab679c.js"><link rel="prefetch" href="/assets/js/47.f6fb3ba7.js"><link rel="prefetch" href="/assets/js/48.bb38d852.js"><link rel="prefetch" href="/assets/js/49.026536a7.js"><link rel="prefetch" href="/assets/js/5.a679eaf9.js"><link rel="prefetch" href="/assets/js/50.77a1b1c6.js"><link rel="prefetch" href="/assets/js/51.4e014680.js"><link rel="prefetch" href="/assets/js/52.ef8bf7ad.js"><link rel="prefetch" href="/assets/js/53.f9874b7d.js"><link rel="prefetch" href="/assets/js/54.ae6de9df.js"><link rel="prefetch" href="/assets/js/55.34617e9e.js"><link rel="prefetch" href="/assets/js/56.7f1c59ab.js"><link rel="prefetch" href="/assets/js/57.00eba1cc.js"><link rel="prefetch" href="/assets/js/58.a0f9ac67.js"><link rel="prefetch" href="/assets/js/59.77c7317f.js"><link rel="prefetch" href="/assets/js/6.91a9ff94.js"><link rel="prefetch" href="/assets/js/60.7fcfde4c.js"><link rel="prefetch" href="/assets/js/61.38395e38.js"><link rel="prefetch" href="/assets/js/62.2fd56cd4.js"><link rel="prefetch" href="/assets/js/63.696213c2.js"><link rel="prefetch" href="/assets/js/64.a0364a4c.js"><link rel="prefetch" href="/assets/js/65.787d9cfa.js"><link rel="prefetch" href="/assets/js/66.fdee424f.js"><link rel="prefetch" href="/assets/js/67.f3b1d7d5.js"><link rel="prefetch" href="/assets/js/68.99e46e56.js"><link rel="prefetch" href="/assets/js/69.0cbf53eb.js"><link rel="prefetch" href="/assets/js/7.3d01c68f.js"><link rel="prefetch" href="/assets/js/70.c61fb0b3.js"><link rel="prefetch" href="/assets/js/71.fceba51a.js"><link rel="prefetch" href="/assets/js/72.685ce3cb.js"><link rel="prefetch" href="/assets/js/73.227db1ec.js"><link rel="prefetch" href="/assets/js/74.39a2003d.js"><link rel="prefetch" href="/assets/js/75.3b8b1920.js"><link rel="prefetch" href="/assets/js/76.2a668138.js"><link rel="prefetch" href="/assets/js/77.f5a4ae7c.js"><link rel="prefetch" href="/assets/js/78.86a8c825.js"><link rel="prefetch" href="/assets/js/79.9fc6f9c1.js"><link rel="prefetch" href="/assets/js/8.325fc606.js"><link rel="prefetch" href="/assets/js/80.3e055add.js"><link rel="prefetch" href="/assets/js/81.9e0c0635.js"><link rel="prefetch" href="/assets/js/82.3df6b68f.js"><link rel="prefetch" href="/assets/js/83.fd5b552a.js"><link rel="prefetch" href="/assets/js/84.9e9e1420.js"><link rel="prefetch" href="/assets/js/85.03d81d6e.js"><link rel="prefetch" href="/assets/js/86.a400f031.js"><link rel="prefetch" href="/assets/js/87.ac29a130.js"><link rel="prefetch" href="/assets/js/88.1dd00ed1.js"><link rel="prefetch" href="/assets/js/89.669bb7b3.js"><link rel="prefetch" href="/assets/js/9.7c8d9c37.js"><link rel="prefetch" href="/assets/js/90.b00fefc1.js"><link rel="prefetch" href="/assets/js/91.4cd3c803.js"><link rel="prefetch" href="/assets/js/92.41f1dbba.js"><link rel="prefetch" href="/assets/js/93.6ba1c1ab.js"><link rel="prefetch" href="/assets/js/94.e7fa8f92.js"><link rel="prefetch" href="/assets/js/95.570c511b.js"><link rel="prefetch" href="/assets/js/96.9491b858.js"><link rel="prefetch" href="/assets/js/97.4fa281ae.js"><link rel="prefetch" href="/assets/js/98.1a19e311.js"><link rel="prefetch" href="/assets/js/99.95ff12b6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6f9a1e5e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/favicon2.png" alt="JunCai He" class="logo"> <span class="site-name can-hide">JunCai He</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog" class="dropdown-title"><span class="title">Blog</span> <span class="arrow down"></span></button> <button type="button" aria-label="Blog" class="mobile-dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/面试/" class="nav-link">
  面试
</a></li><li class="dropdown-item"><!----> <a href="/Cesium/" class="nav-link">
  Cesium
</a></li><li class="dropdown-item"><!----> <a href="/openlayers/" class="nav-link">
  Openlayers
</a></li><li class="dropdown-item"><!----> <a href="/Vue知识点/" class="nav-link">
  Vue知识点
</a></li><li class="dropdown-item"><!----> <a href="/Vue3/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/" class="nav-link router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/Html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/Node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/" class="nav-link">
  WebPack
</a></li><li class="dropdown-item"><!----> <a href="/Sass/" class="nav-link">
  Sass
</a></li><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/TypeScript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="https://es6.ruanyifeng.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Es6
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/Mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/solution/" class="nav-link">
  解决方案
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ThreeJs" class="dropdown-title"><span class="title">ThreeJs</span> <span class="arrow down"></span></button> <button type="button" aria-label="ThreeJs" class="mobile-dropdown-title"><span class="title">ThreeJs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ThreeJs/" class="nav-link">
  ThreeJs
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="tools" class="dropdown-title"><span class="title">tools</span> <span class="arrow down"></span></button> <button type="button" aria-label="tools" class="mobile-dropdown-title"><span class="title">tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          官方文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://router.vuejs.org/zh/guide/#html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue-Router
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://vuex.vuejs.org/zh/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VueX
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tool.oschina.net/codeformat/js/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  代码格式化
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.easy-mock.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Esay-mock
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.processon.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线绘图
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线服务
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cloud.tencent.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          博客指南
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://juejin.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/Jc-Sir/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Blog" class="dropdown-title"><span class="title">Blog</span> <span class="arrow down"></span></button> <button type="button" aria-label="Blog" class="mobile-dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/面试/" class="nav-link">
  面试
</a></li><li class="dropdown-item"><!----> <a href="/Cesium/" class="nav-link">
  Cesium
</a></li><li class="dropdown-item"><!----> <a href="/openlayers/" class="nav-link">
  Openlayers
</a></li><li class="dropdown-item"><!----> <a href="/Vue知识点/" class="nav-link">
  Vue知识点
</a></li><li class="dropdown-item"><!----> <a href="/Vue3/" class="nav-link">
  Vue3
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/" class="nav-link router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/CSS/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/Html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/Node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/Webpack/" class="nav-link">
  WebPack
</a></li><li class="dropdown-item"><!----> <a href="/Sass/" class="nav-link">
  Sass
</a></li><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/TypeScript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="https://es6.ruanyifeng.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Es6
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/Mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/solution/" class="nav-link">
  解决方案
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ThreeJs" class="dropdown-title"><span class="title">ThreeJs</span> <span class="arrow down"></span></button> <button type="button" aria-label="ThreeJs" class="mobile-dropdown-title"><span class="title">ThreeJs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ThreeJs/" class="nav-link">
  ThreeJs
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="tools" class="dropdown-title"><span class="title">tools</span> <span class="arrow down"></span></button> <button type="button" aria-label="tools" class="mobile-dropdown-title"><span class="title">tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          官方文档
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://router.vuejs.org/zh/guide/#html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vue-Router
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://vuex.vuejs.org/zh/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VueX
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://tool.oschina.net/codeformat/js/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  代码格式化
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.easy-mock.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Esay-mock
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.processon.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线绘图
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          在线服务
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阿里云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://cloud.tencent.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  腾讯云
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          博客指南
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://juejin.im/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://blog.csdn.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/Jc-Sir/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/JavaScript/" aria-current="page" class="sidebar-link">js相关知识点笔记</a></li><li><a href="/JavaScript/操作符&amp;表达式.html" class="sidebar-link">表达式&amp;运算符</a></li><li><a href="/JavaScript/流程控制.html" class="sidebar-link">流程控制</a></li><li><a href="/JavaScript/null和undefined.html" class="sidebar-link">null和undefined</a></li><li><a href="/JavaScript/基本类型Number.html" class="sidebar-link">Number</a></li><li><a href="/JavaScript/Math对象.html" class="sidebar-link">Math</a></li><li><a href="/JavaScript/javascript字符串.html" class="sidebar-link">String</a></li><li><a href="/JavaScript/javascript数组.html" class="sidebar-link">Array</a></li><li><a href="/JavaScript/javascript对象.html" class="sidebar-link">Object</a></li><li><a href="/JavaScript/javascript函数.html" class="sidebar-link">Function</a></li><li><a href="/JavaScript/js类型检测.html" class="sidebar-link">类型检查</a></li><li><a href="/JavaScript/高阶函数.html" class="sidebar-link">高阶函数</a></li><li><a href="/JavaScript/函数防抖与节流.html" class="sidebar-link">js 防抖与节流</a></li><li><a href="/JavaScript/深入执行上下文_词法环境_变量环境.html" class="sidebar-link">深入执行上下文、词法环境、变量环境</a></li><li><a href="/JavaScript/作用域与闭包.html" class="sidebar-link">作用域与闭包</a></li><li><a href="/JavaScript/深入理解原型与原型链.html" class="sidebar-link">深入理解原型与原型链</a></li><li><a href="/JavaScript/正则表达式.html" class="sidebar-link">正则表达式</a></li><li><a href="/JavaScript/js事件循环机制.html" class="sidebar-link">js 事件循环机制</a></li><li><a href="/JavaScript/js事件.html" class="sidebar-link">JS事件</a></li><li><a href="/JavaScript/js事件类型.html" class="sidebar-link">js事件类型</a></li><li><a href="/JavaScript/WebStorage.html" class="sidebar-link">Web Storage</a></li><li><a href="/JavaScript/Module.html" class="sidebar-link">js模块化设计</a></li><li><a href="/JavaScript/this.html" aria-current="page" class="active sidebar-link">搞懂this指向</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/this.html#绑定机制" class="sidebar-link">绑定机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/this.html#默认绑定" class="sidebar-link">默认绑定</a></li><li class="sidebar-sub-header"><a href="/JavaScript/this.html#隐式绑定" class="sidebar-link">隐式绑定</a></li><li class="sidebar-sub-header"><a href="/JavaScript/this.html#隐式丢失🍒" class="sidebar-link">隐式丢失🍒</a></li><li class="sidebar-sub-header"><a href="/JavaScript/this.html#显式绑定" class="sidebar-link">显式绑定</a></li><li class="sidebar-sub-header"><a href="/JavaScript/this.html#new绑定" class="sidebar-link">new绑定</a></li><li class="sidebar-sub-header"><a href="/JavaScript/this.html#严格模式下" class="sidebar-link">严格模式下</a></li></ul></li><li class="sidebar-sub-header"><a href="/JavaScript/this.html#this绑定优先级" class="sidebar-link">this绑定优先级</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/this.html#显式绑定🆚隐式绑定" class="sidebar-link">显式绑定🆚隐式绑定</a></li><li class="sidebar-sub-header"><a href="/JavaScript/this.html#new绑定🆚隐式绑定" class="sidebar-link">new绑定🆚隐式绑定</a></li><li class="sidebar-sub-header"><a href="/JavaScript/this.html#new绑定🆚显式绑定" class="sidebar-link">new绑定🆚显式绑定</a></li><li class="sidebar-sub-header"><a href="/JavaScript/this.html#判断顺序" class="sidebar-link">判断顺序</a></li><li class="sidebar-sub-header"><a href="/JavaScript/this.html#箭头函数下的this" class="sidebar-link">箭头函数下的this</a></li></ul></li></ul></li><li><a href="/JavaScript/构造函数.html" class="sidebar-link">构造函数</a></li><li><a href="/JavaScript/ES5创建对象继承.html" class="sidebar-link">ES5创建对象继承</a></li><li><a href="/JavaScript/异步编程.html" class="sidebar-link">异步编程</a></li><li><a href="/JavaScript/Promise.html" class="sidebar-link">深入理解Promise</a></li><li><a href="/JavaScript/BOM.html" class="sidebar-link">BOM</a></li><li><a href="/JavaScript/DOM.html" class="sidebar-link">Dom 相关基础知识点</a></li><li><a href="/JavaScript/Svg.html" class="sidebar-link">SVG 相关知识点</a></li><li><a href="/JavaScript/Console.html" class="sidebar-link">console</a></li><li><a href="/JavaScript/窗口间通信.html" class="sidebar-link">窗口间通信</a></li><li><a href="/JavaScript/websocket.html" class="sidebar-link">websocket</a></li><li><a href="/JavaScript/网络取消.html" class="sidebar-link">网络请求的取消</a></li><li><a href="/JavaScript/文件上传.html" class="sidebar-link">文件上传相关</a></li><li><a href="/JavaScript/下载文件.html" class="sidebar-link">下载文件常用方式</a></li><li><a href="/JavaScript/浏览器渲染原理.html" class="sidebar-link">浏览器渲染原理</a></li><li><a href="/JavaScript/JS函数注释规范及IDE配置.html" class="sidebar-link">JS函数注释规范及IDE配置</a></li><li><a href="/JavaScript/数组转树形结构.html" class="sidebar-link">数组转树形结构</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="搞懂this指向"><a href="#搞懂this指向" class="header-anchor">#</a> 搞懂this指向</h1> <div class="custom-block danger"><p class="custom-block-title">💢</p> <p>🚵<strong>This is a big mountain</strong>🏆</p></div> <h2 id="绑定机制"><a href="#绑定机制" class="header-anchor">#</a> 绑定机制</h2> <h3 id="默认绑定"><a href="#默认绑定" class="header-anchor">#</a> 默认绑定</h3> <div class="custom-block tip"><p class="custom-block-title">非严格模式下🍺全局环境中</p> <ul><li>浏览器 ： this默认绑定到window</li> <li>node  ： this默认绑定到window</li></ul></div> <div class="custom-block warning"><p class="custom-block-title">严格模式 全局环境</p> <p>this-&gt;undefined</p></div> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>函数独立调用时，this默认绑定到window</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> window<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>被嵌套的函数独立调用时，this默认绑定到window</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 虽然 innerFn() 函数被嵌套在obj.foo()函数中，但 innerFn() 函数是独立调用，</span>
<span class="token comment">// 而不是方法调用。所以this默认绑定到window</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">x</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token function-variable function">foo</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">function</span> <span class="token function">innerFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token function">innerFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre></div><p><strong><code>IIFE</code>立即执行函数实际上是函数声明后直接调用执行</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 改用箭头函数 输出为2</span>
    <span class="token comment">// (() =&gt; {</span>
    <span class="token comment">//     console.log(this.a);</span>
    <span class="token comment">// })()</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span>foo
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0 </span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//等价于上例</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token function-variable function">foo</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre></div><p><strong>闭包</strong></p> <p>test()函数是独立调用，而不是方法调用，所以this默认绑定到window</p> <p><a href="/JavaScript/javascript函数.html#函数调用">👏来看看函数调用🤳</a></p> <div class="custom-block tip"><p class="custom-block-title">🛑</p> <p>由于闭包的this默认绑定到window对象，但又常常需要访问嵌套函数的this，
所以常常在嵌套函数中使用<code>var that = this</code>，然后在闭包中使用<code>that替代this</code>，
使用作用域查找的方法来找到嵌套函数的this值</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>  <span class="token comment">// 如果没有该语句 test 打印this.a的值为0</span>
    <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> test<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span>foo
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
</code></pre></div><h3 id="隐式绑定"><a href="#隐式绑定" class="header-anchor">#</a> 隐式绑定</h3> <p>一般地，被直接对象所包含的函数调用时，也称为<strong>方法调用</strong>，this隐式绑定到该直接对象</p> <p><img src="data:image/jpeg;base64,/9j/4QCORXhpZgAATU0AKgAAAAgABQEAAAMAAAABAAAAAAEBAAMAAAABAAAAAIdpAAQAAAABAAAASgESAAQAAAABAAAAAAEyAAIAAAABAAAAAAAAAAAAAZIIAAQAAAABAAAAAAAAAAAAAwEAAAMAAAABAAAAAAEBAAMAAAABAAAAAAEyAAIAAAABAAAAAAAAAAD/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wgARCADcANwDASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAUGAwQHAQL/xAAZAQEBAQEBAQAAAAAAAAAAAAAAAQIEAwX/2gAMAwEAAhADEAAAAeqAGgb6B8J8BVPYtT4jCWc205equbXqzfUrROhubyZdQAAABWpybrHG5qTjt2TluFdsO7c0rbn48jZK1xRzbe04zOrTZ+d9PslIer4kwdF5Dci5wstVbLHu0K+gAAVqc/6Wjjdms0wsJNeki4K2ahvx8iOQ7nTMsvL+ibo8rNnWUi7egAAAAKA8gY+rS7XxZdwqE3H1OXptb19o08c/H1q7u1pllhIWFiweTkvZWLrXaYdj90N9AAAoDl9g0ftq8UPcgZMdl89ryMlMSI+Sjze0ZPCZRbUbvq1GOs0GzUeLRb4qUT0AAUBpcw65yKXWu0NLj3xZ68A9PAAPn6FPzYbbNXUMgABQDmXTeVyyMhrbYI6pElEivLRmKmsUKa750l3sGclbtcP7L0IIAAFAOUdK5hLavfcrdZ5x22qRMX2M0riwe16uV0P4rkynKaX3KqTcrtb2FrWgLJTpnr7X2LgAAKAqOXY0JZnWmdOe2vM4s98/MeWAudKHoktz9GKWkvvm95+x8V6N2cm9rSuv6awQVz5487TPau0wAAFAOW9SxkVM87xR0lGSdOPdh4fjf149+Z9D7lId56stXyavtjuWTnGv9P51ljNq5p9AAACgAPNXbFDjem16KPrzErN8vkcsPzdMyhtrn9t/W+fjWbf0fnOr38PVfarabn0AAAUAAA5P1fj8t1sOrKJRrpk9OU73Qc01yeE69yZbch9lPOpRUrYCAABQAADjnY4GWYy8q3Y6SpGWy5KXFLeKBj6ISAQAAAAKAAACI7kfbMEvOLtMe2ccx9j+VyvSBQAAAH//xAAtEAABBAECBgIBBAIDAAAAAAADAQIEBQAGERASExQVMCBAIRYjMTMiJCUyNf/aAAgBAQABBQL745QCGi2kaTIl2Q48zha3AYOV1xGlBRUVLGU6KCVezAtW9nqUci3OsPr9vOl2aSuhelw0Swjj05OkSxeqQVgBWkuESSacCRMZYFj2VVJPJFb27+rFqQQIwqqtsY0elkRJGpTuBWEpCdWFStWxtKaLHiURSHrMtTljQq+C62aETAsw1pDAc0gQfRLaJwASIvkbG2dKPIKS0WoiFhxgxABLdpzVWl//AB8sRRyxOkOPg5ZnG2gvWEYJYrryW9XEvJKVLLHmhRbVkgiK4cWlAyEGmP1/nKC2QBHzxtkJYGtvGWbsrI8iOPLNN67Sy71WTYgpga2ACwsmwxg1HJDJr5EXl7fLU88L6KHJZI9r4AnT+L0R7YUQUMPBjGsT6k+1iwsfqIxF8vb4mopI1i6hhlyRcwgIXUyKq3Vm9PL2+edsGYLU4t2XEF45OpYo8XUEx+ecskwGpWc8aSKUP1ahsVhRoNY1uCE5+doTLKaODiRJNgSPVRRYmyZ/Acf/AFoxhHSKeOTGJJqXV5mTmdo/JUVFQ4SVJoUhkqN6dT/i0/lzURqXlw4b4FY0PFP5f/Xm27Gf9uEyC+M+ktGWASpuOy28dpbdKn06vj88SKXrx7y07SFUwu3Hx5E5lTdETd2cqc3GxC+HJFMZKr74vJErAdtA9MwCSYtIXp5ATyNl7HIjm1iuhzws8jf+vVMZY8yqGgYXtvm/nTEToQfXqx3UkbY1P8fjv8iou1gznhaZL1an13351A17t+HfRUJgoirjQDbnI3HxhuwonDV7msaGZHM7gRyvZo13+p67hyP1JwvCuHBzSDlfC+Dmo5NU7sl5Ee4sXOVFzSpUBK9UwyRotGNXY1N8TbDQxHYumC9SviDhRrKzZXufcQWBBqH9yRdwQhhG7iLcVbLAcfTK9R0fpvVNsVMumuAcBEKH06pdy1NNFH4t42MIv8oxXcXsa9p4FVEyZqCCrB2QGP8A1JLTKm0FYMx39zdsGPmzUwBtqqTdar03wFPV6YkoetIxHp0n4NiMbwuLBtfGd1ppYiBFiK3hMiujkpbJk+OUSPzovXGpypqo/VWMJAR/VPimp5lfYBnC+GpiKe3Xgx6scOWmzTDXOr46xG9pB5cW4oLaGuIpvW5Eck6jeMsa+LGfEnRpScLlVZeou/xkt5gU1vHjVRLOfZuq6MUV3ukAFIZK03GIvYXMTA3tgh79jiMCXbGPR3wkLsDT9THNFYxrE+jeS+zr9OA7dg6EHc+OdLnmGaM5h1TGnzrjwAnzivul5e6uUyltO/b9C7J31zDH+9KL0I+kgubCIxpG6mrQxRN02AjTUgQpAGaaKI1gmuT/ACov3r36FJ+7Jgj2ZiJsmGGww0TZJ7Pw07oVsi2pVSqspawIQoIPoA/4y1H+GfGe5rIum2LJsvp2daKeJfK0rBapZjdSwVz9RwMdqSAmG1SPbtbO4WJHHFB9SfHSVEjzOwHQVfXXxkLLCH4qeJvlrD67xDevB6I5rGNYns//xAAiEQABAwQDAQADAAAAAAAAAAABAAIRAxAgMBIhMUEUImH/2gAIAQMBAT8Bwi3HSLzc6ZwlTr6XVulAt7l80DII5/Mm6PmQQZK8wBQZKIjrIeJjhCc7lanQ5er8P+qpT4JrhCLpOmn7YOhVf3aiI0hSAmVQg4Jz4CJnZyKBsdAUKFG2Vyz/AP/EACERAAEDBAEFAAAAAAAAAAAAAAEAAgMRITBAUAQQEhRh/9oACAECAQE/AdUbV+99ccbJOGL3fijeJBUY3myKLQunPg7I+FGIqOM1y04P/8QAPhAAAQMCAgYFCQYHAQEAAAAAAQACAwQREiETIjFBUWEQMDJxwQUUICNAQlKRsTNicoGh0SQ0Q4KS4fBTY//aAAgBAQAGPwL298TJGmRm1t0+BhcJGm1nC11BTYXPkl4buktHrJ/h4d6aZJY45TtaSrg3WNkD5je2FqaX0Wiv8ZWjEdO13M+N1aOal/tc0pnnWDTb8KfFR0l2jY929a08cf8A3JGWbyoGAcSbKXzjWwbH229W6SU2Y3aUKijdIyYHNwbkVHUx0Mplab6rrYu/JSVVRT3mf2WvysnOqKfQm+XNeZ+TwXTHVLhu7lJVeUvWutmNoCbNCx8YdwKa6mrPVX1mlOwGxe7DdUZBfMyW2kcNyqWTwv0Dewf9qSeJ74nsFxrbVC+Y3fnnxz6HywR43N/TmhV185e3cwIMiaGtG4dGhkmAf9EzSvDcZwt59Q8VABitd1+CNTLCWwt+yjY3aqUwxSMEbsWG/aTIqjyZKwE2Eo2s/RaKWbS2OryCfJHGBI/MlVP4FF3n69D2Vbg2LiTaytT+WsLNwz8E9knlORsY2Saxum+eeU5ZgN2Bya6lziGQFrK1P5Ok/uuiNDHGw5ZqempJhHozrA8Ux89W10fvN23Tgw2dbI8E+Ko9ZK/tSb/yUHnNVpIIDdgtn1D4ZL4HixshBS+TmiOM2aXi6p45jHHU21LbAru8pEd104VNSZydl93RUj/5u+ibycejRztxNvdSOijw0UW6/aWhfTh0Eg1RbJPkNJBUUpdcAMGQ8FGWR6NpF8FrW6I/MoWys95VFVVgMdL7vXMqzi0rRYcPQLXC4OS0UDbNvfpsxob3D2W0r7v+Bu1fwlJccTcq/mjbfgP7r+Io7fMLXxRHnsWcwceDM1ampnO7yvV0YA/AV/Lt/wAF62jFvwkK08D2dxui8VDBbccirRMfIfkF6miy5glXdRC34SsNVA6PmM1jgeHN5dWGxfbSZNPBaWs9ZMc8J2BWjGryyC2tWB5xyfA0/VaVzGQM/DZazTK7i79lqgDuX5dAzVpWNeOYXqi6J3zCJfCyWI+9bx3K8Mgy2sO0LJ4WGoja9pQqqJx0exzT48kyaPY4dVRE7Mvr0WGxeaUOtUHIke7/ALWkqPWT7c8wP3PoHosh0Fed+TiWPbmWDw/ZZ6s7e03xCdfgqi/wJl/iPVRzt2xu+qjlHvN/VN0Z9fKMvu81pZR69/H3fQv0W6L+g2upNWx1h/25CaP3srcChGO1I79FDEdrW59/VSQu2PFlPSzZOjJP7p9VJ9lH2R9B1pa8Xa7IqWgkOo43b37v0TR/Rg8P99Z5zHk2YWdbio2++dZ3XQ1EZ126pI/RaU9ubP8ALrKODjmskL9ZkphwF1Hf3CW9ZSjk36lW29OAzsugtfJZNH5rsj5LZY8lrbOKxPcGtG8rDFK0u4dL28QQp2cH+HWU+DWLbAgdOp75wnu6JA7+m+zT4ejZ2YUcIvowzEArqGR/acwE9GaqKWXVkdsvy6uWZ3uNupayXtvJA8ejIIwzXwuG7isqhmj44c02GLYNp4lRaaN5jfteBk1aTzlhHAHP5IGrp3RU0n2clvqsYnbJwaw5lRy4CzEL4Sm3dgkb2XK9TOCzgzeg1p7gs2q4UFZF2wbHwTJG7HgOHVP5uAVNltZdNsLBEb77E4N3HpLXtDmncVppooWD737LRiB07OYsFip/JcIO4m7lc0zLfmtXUlG1h6JONslb58kzIW3qQtbnib9VTX+Dqpmt7Q1h+Say+vFqnwWa7asOnGc5DkxvErT1LySf+yWtGDzstUjo86pCWFueruXCZvbb4rgeK1niysFBQxZyOdcj6KOIbGNA6vz2izgPaZw5LFEc97TtHoth3MaB88+m4WuPksnKOopyDGdoHDeE17DdrhcdBY3XqNzeHenV1bczPzaHbufWWIuF5x5LkMUnw3+i0PlSBwcPeaPBeomY7lv6ZyeI+iy9F3LNNbUyazCWhozJCMfk6IxR737/AJ7lpag6afbfcOvwzMa9vNXge6I/Nfw9VpGjde/1WgdDHLKDawGaiq52Ngn7Lo8dyRuK8Fz9B/yTaioZicTkDsssLAGt4D2J7mnXdqtTJXdub9ApJqpzqhzjcYtyrWUWFohdk1YamJzDzXa+azWZX/nAztPOxoQp/JNPjawWxOCxaRjvu5JzJG4J2doewx0w+yi7Xim22bVJKcwxpcpJ39qZ9/8Av1WF7Q4cCo6iniwNxWeAmviqZcLhcXATwZJC8XwrzcyWgi1i3iVo4wGtRVRNH9kG2vx9hq53bSfqsXHosOgsla17TucLqwTXjuVSIozJfIMHzWKOiw94/dWqpmxR7wP9IRwjvPH2Genmyjk7Lvom+k90hAaM7qprSLM2C/P2QNkyeOy8blumpm8cwPEIaemeD903WyYf2rtSf4L+qf7V6inc4/eNkDV+op9uG3gmxQizR7LLCffCfTVdNicw6oKfV1sbcL+wwjLvsv5WH/FaXQiWkfuI2clC2GHBTR7cvaAXsa48x0kOAI4FYWNDRwHW/wD/xAApEAEAAQMDAgYCAwEAAAAAAAABEQAhMUFRYXGREDCBobHBIPBA0eHx/9oACAEBAAE/If57h2grimMu0YzFKVkHGsS+NuexbdT6rSFNsX0WiYg6lAIn/wBmhSjGS/xUqVvoFp2KvFHRD7qCeoX40JXhLlMhWll0EI7KCG126UaWUAw6Pjv5cKXSmlE+6xXKXz81A38bgYsVPslSGNtb0tSoiFzjuU+bbLz25c6VAQMtUfL+81OWOGOHGGSnlWEKSa2w0vMQxkGZ+KuERwDab7RQ6mtwN7crVP6gYLQpazQnkCB8IpWlHA15RT2GpbhDh29KwEeCA8DK+w5jqcFWUAyamj85DE6GF6ElSwRDC/LzULyA3Xm3R71dyCCR1vCOKSQmg9KlXbu1+qhcWk9r1+j3eDIpGsNEd6cAOO07oqd6uA9JehcvTafM1b7MRQjSGmqzuF8FQKDIBh6q0sP36cLWdqN3HIweoVNI0QzLRoSsmPLSTUB3Npxxg38jX4AQ04NUiHMqF6vegUIbuk7VkO/balXYKHy8OavmVEtn9/fhgmRvEJTRHQSMtLu+afsutMWmY4RPWteSAKxifcUFArGo3iN6imVxN5LPenTnjyy9POXtQ6eV/d/AbQ1DqVmyzlmV8XQJZSC/8RqcRHOT/HrUOX9hipGnGL7j7ZqFGvbPcVNP3z2qXH3+smhj1Y/df9p/dF63cf2qvTtYPlFE5MvhMvpUp+r3PtSs336VqiSQ2/vrrxV+DDXXly51NPLtZPwGr12owLLLPV3a0IrUP+5U4Nz9LFElXCXjgy9Wrp6YeyhKFzYMRSqeCcsrBQRF0mqQWeg+zSlquZdsvVSMxP3c+6i+g0r1YN/fSn4plyjjdTUW0OjhO9HkjZf9fass6tCRgYKQE6lug/UUpLM5JP6XrWVlrRoTAoWOPB60V7zwsgSRsjhozwwU+RRUQw7X6PihJhKvUo+KG5Ie/lIMxl2NXeKHPCXjV71AsW4tf6c1nhem5Dp13/CGzUwblNuceGl0eApilSyiLC6vLDWmXyX1Cum5cL/1ShoJDld9/KzSGe3NM9XzpH1zSBVgnxP7P5wTMX3/ACj+JHcadg9krvWytS8nJl3s8w4i70i/c+6d6Q+s/wCR5rYlYKjXi4J3XzU8fw9P2+vmPK2ucyh9NXsGdCmCUv5Q3PyYdjLW9sHqXpAqX3GT2TzHtp8xTiiD7eLGHjn7xWUF1xF5oOXHYzWeXd4OJtyqWmlYGKVZQJAVsO+cL0nwWDerRvrKvRxPf/HmDOPphu/CVBoUUlEkKHs8BDW4NBB/XP4oyEyNFcuk3VPqryBuMib0ZHcDw0YvR+qpG6UnZmjyscCdboUncPT3XepNCOWtJ0pY0JUsL3Fb0xU7GRM6y1LdKS3UqW4aSc/lTDfcxt8vSnDKJlODj1pGeXEqfCXZm2yalHIDpM8JcUUiEWCIKRRDFWchVlsPULr6r2NKEnylEa13n6oO2Gjq3aITSZqy0XoaUTuUmjwtNoRkazDUzhPGrtTLZo17/wBVAa24g9qcJubGtHFfX6m5RWgLq5Gwx1Leau61wH2oigUOtGjsUeST0gesn4mtm5+NXb4qNjpWmCOl6Neo7+MDtaI/wKvTSTpw0KkDZolp1kHFMJCUWUMzU3ONyrwjDPhw1CIo4FYW4QUY4Cnt4ydh3+Kxih9Dy43S+KWrjZ0+cW/nfJR+Eh8Z5uPaKhpY08COYqQmHSgJDOzarpQ/cOpUaxG3GikRGLLbltOKSLeglq2tYNDzHYkIRw1G8L4u76bVwQNXq/Yo0u7GOxv4g9qdRNAJUj4nhyGxUTwxtULetT8zEnuw9F6EblMnrl5aKPN4RwZitgXmJ9+9RofEfxVTJQ3XGcMUml4LRE7nalhGNaYW2x/C/NSjl252C2O9AwzAwHgfwLdnpa6+hLRCjWeyfdJW/wAEHO/7aoOMJmBvED6NSeZ0xPRw1ZCgYtOo0kNmNIvUCkvrXcLvsURcKURBx9ta0uP9aDuz3ko/gSS33u/go3Ln0gUJ5QA4JqQ+ddqH+0WrujJQ0rzbI46Ye9H1GmFnFAPoJgJ0tV7qwCFH3eXFbCLAz13pgDBerAytHoPe/b+A2KIRHXclak2Xx6VAkNEQQHhlClEPpREABYChgiS62dqmMV3hspSJuLXyKninLjp/arATK5W7/BWay5gvL6aUQRgKPxKS8lpekxXOR/g96P4c1HNH9jimu+KbB+nFBBuIR7xWU6j/AHX/AEFYF6FQvmhj2mhOwugPTJeWveSt5ef4sRRKC6Oj3imkbEBrozpyVMi0BU+xtX/O1maGJBL2JpWrtLRbWY1cH8doAMwixR4Q0FcJGosrgYPN/9oADAMBAAIAAwAAABDzjnB//ef737777yxo5fref/mcf77ytBLq/wBSpd++++88i/n+VFbse7++880/AOFlB96j++88hPvPr/8A6w/vvvPAJ+Mc18PZ/vvvPE+CwrI+jF3vvvPPykoJh1uIJ/vvPEY9D2VXXc/vvvPAcf3QDvlI/vvvPAQRgxwlpQPvvvPAQQuzTCU/vvvvPAQfvobcPAAAAP/EAB4RAQACAgMBAQEAAAAAAAAAAAEAESExECAwUUFh/9oACAEDAQE/EOK4tKgolSpXe43F4DC4MQI4mJjoNRtyNS8U7gxb7hCH1MJZ8l/HA0NQrTt+IR6uYKe2bUwa7/Xba+KvpXiubImrHLAXUpNwKplW7qJZdw2UvfyArRF2VAO4d0zGPFPUeQJuEWMizURU+KtpgmyaTEfsJAYit8Q4uFFRXcomTjwVTLXAc15jUVBEvt//xAAdEQADAAMBAQEBAAAAAAAAAAAAAREQIDAhMUHw/9oACAECAQE/ENrm7PVjDFs0JaQShOPo6LD3D3illcX2MRdLh/dmUdYsssP28EseP9Z/VKxJScWJ5g0QUvjE+LGqoxD9Qj+E1teIQucMk53SdULX/8QAKRABAAIBAwMFAAIDAQEAAAAAAQARITFBUWFxgRAwkaGxIMFA4fHR8P/aAAgBAQABPxD2T+dQ95XeBF5rjenDWjrUyuHoNIs80mjT0jXIxVKh9jXAvF+mZ/MV+F2OzPa7hhSSmsQYA2U4XWtpnAEII9kjfgAVSxygUMVo5SOXtDdrV0UoBOANCdRV469NZTqCz4sFTim8ptteaq6xd1iOJcLiCDRBy6Z0zEVaqfOiv3DlQVA4AmXXAK8QnAfhtu0ACgKw6oS/ZLntDBQOtqgBqsIP1jNzcE7yt26iVy0GQspWHDaFNkJDCwFAhLQNXhYX+y5SF0OSudG8RrWImZr0Ob0Ud8ghr6+aCi9dQtwLBmosSBUOQEdIETruFghbTGQj2bZoJU7iPM5s0OVUs0G0utY4l/o72FrQOWV8OsWMLOB5c2tBTrDHyo0gDnAZ313lXBTXVYOoCIGaO+0YR+dFDBjRdC0RuB8Oq4QYZ6JUldKz5HG9S6IFWrRBX646zd/MuVB08he1X4iayIp8UqCmMiqNsS8c5ouAAaUG+ryYPlJpLuCG6QejTDfq3GFJRvOttaFgRfqR2obaVwXKFCy47BJ0R/SUc9xgisJSbIyGltOdMyzVesIOMi8BOBh5hArGvLmtJfS4BHpeLwDG6y6zR0jeneWJJRS3qDXa4ZH0DvAlaRe0ynIMuy1XeNGkwmfKN0AQ9bx9Qa7dUKJRvTTUMC9ZhvasJWvVW9alUNY1gRFwvcwKKuGn87fSNINcPiaovF0zeCsqY4xBuINbjJReWM7SubrXB9QywJ4msllW+uldYTG16CBC8/5IViXT0QNWqROinZYAKTFloUvQoNCje5RJ2d00LHghDR2IS2AqwGLTuQIQuF0FgwC89bgTSG1PJBbBQEKzZfWt3Q8RSzLILS0Au9b61DT26IlagCaAIq7AtazpAqHpoBEmQpHuMSqa4FqlewHYIQxK+BJFWrR6Bcr+Fe6JQsaDv75DyEv/AFjVe4QPlgID1VbjndHA1Ov9MIXv0Z7z/YS1jAjXb6mHlJautBD8P6lmLWrgd0n16BXTclB82JVE+FWvaz9hwjtD4GfAY+Cmhaby3DIlpNr5AS+y6aeOdUAG11g3VID5gHRJcjxqLontMvPSBlOqTfIBy3tU13Zgxz8/K4HnWBgDOQAcFY+IbB+f/kae0lwDlpReNXiPhLBHoP0kGBLd+uD5uVftUJHYhgVRwlTBg0F62RHw0ib51mo9lrzPIdmHxrQgL4LOmEPg6+nbNTgNP1NHbek/MZSVBge2pfEt32Vobzb2g6jW9MVxKzUJUdQJ4m72dRBwbKZ/sAEGa17tMAaWg0CYezHZOK9+Tp3aVTYDZOVzuarF6cxFSE3YmDkYupK1NdcbgQL2zMO0/YSgkdpkHURwkXlqVfMh8isS64hNmA7G3NlaaarDsofWvwYw6obHVafdSgOr7Mf0YN+zoavOEfA/OPcYi2Ch8GVrK6cug5yOBvypIeJZW4LLnqvHMMQefQryXWrxfMyPVhcFAptunPomNTjrz6GI2qYmpjsaGjsmy3vMfefU6N+pnuU7xbICKaud4WkIwCLb+xMPYYw9PtVkx4NPiNEVS9Ko+QeTFRvYXQ/AGZyxb1/kXKL601/kbhR9lSQJVkc8Sc5nUINLUtORtrsp2SoFe0wYBwoUPavukBYOBxvh4o/mfyYoA1WFSqeRfsDT4mqcUUpG6+V6wOPcIqWSHbv18ksbaYDQDBG9U23KlSpUcQ/38v0qVAjPo/2EJQsp9U/Fy6kw9D8C8Q09oiqNUjwn6qhAUUoV3QhMwctmg8YfqA4jRG80qtYdem/+9CE5R1Rf7n/BRxXxFX3NGFgE0PLo8PSF+6zgd2Xg7UXihfiBLlBWwbxYVK2uUa6xG4YPigk09ojUILwpWPCHjxKNA7E3Qq3r+EL8qCBBuOpTSh4FY5h6VDsnQLGZCnDhSPWig7XMFBpCQNiOyMpUKFa0y+avz6KEWhLcbMAL/BX8twNkGL2qQq0OwfY0eZevrosvlqDsMvC68RFBBugfsJtGVUE2rkf94YFKHP3hy8wA1frc+U/QBtCO2gQKo5LehmhS9Jc5chTg3O4daixu1YRpdnK9PDrNS/4NtT9UqOdzOnul9yk6JFTC4JtriWNOtiY1RW37YR8tA70L+wJRkxzAB2qj6iSlVbNfcDNs24iVWjN857grkI4dtHIh++ztAtUqHH/sJfrVcaRs+WbGvJRdrvvFcFNtg7S9vHSPFddjvf8ATDiVC8PTTcI4ZgyqWV9QougmOaWCp3BnvBixiym1GA9oHyYpB3YlAlIb1L95puFlxfAaxvpCGuXcMS3saRKNQJqDs3lHVBXYPxY5OwdhQ+gmj2NojgMBaoIOqB5hXC7vcl7Cg7qZ7kbXDzGpS2rg/v7lxTybuYY9EhGr8AWrvRl8GqS8t6F37aPagaItoG9VzXadALGadiBYHuQ7BcM7x7vs1eKwKmnUuzpy/U2PKTlX1hE7cdFC+bhxUFBMlPd5tXVS1wHeMVbFVXQX5q/MPZQZpZ/VRK0dm53GHaCJwAVXA4OHRix6V6IlNabfIsPiC1GjA44INEZENIcicMZU9qnCf/XFa7F11GusyzJdwpyHU7DXEMEWegLH0WRtX3Cg/odq1Gngj6Sqt3/AK9tZ0C7B1E3j0RqOfk0QcfcDECmjWqcnCdWuCJyXBO9Q+PSpe8Uhegz+4QqKx5mIhMGOktJoicJ/q5ewU4RsBtVBaMay0ZFSA+U1xbgy0ONgW5dmq7+gH0aPcqZ71YWzk3HqRQa62X0tBFfoCmhxTR2GBle0vULbBMtVM356NtiZoVByEOJtNcwPJCzVapjw7ypXX0J/A91/7LkCZFyimryalNMQjY0b2gYg4/wFRdZODSJs9juBzLLQtsqvgtp+IW8gsw4AOZpsVoIH+8gC6ygyheO0urYj5X7AYjYQ0BZNZjwn6iAzVay8ExvK+5bTL03HyyrtoQKh0Vpq541jpbahF8U+mBYr6oG6SclOEbqzOYP8BkjwI4sdvKMDrAE7BivohWxIVRtnaZBTUVkl/ONfd4W7jGhW9gC0CosGCsIxahUSHKjZJpIFsVXQyON4NM8KUrKDUEyUwQWEl/KVqnlmQdHw5jqIAmE0PkI5kKPfdjwXAQmtFoqvNExDL4nT5bfJFILGDQFQBQEqV4SoKTZaw5qHAYAoA2jGt621H+j+wRg0qtBMCtK4CLSWwyPoQdUwSW4aD5hyhyXfp+Gh/gjebjBzEvK1Oz2YJdBA/gIEHIlegA+Xg3al8ltG8VTyFfFIP8NI71CZtRNzf4VBbEhV4gA2ZEKzZxE5bdDqFkqU3kmvhQeLe+UT9SYCDQfPUsT4mMvlsza1wnGE24lEP7tq6punV/ACBXof4NRHdhcZfiC8SzY1enJrOvJZha2Yt7wibhsAMcsvC/8A0H9TICSKFWhcK1Op5plysmLcWxWADP7Klf4xzA5p7FMTT6KbKAO4GMj+UJeDHqe1/9k=" alt="举个例子"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span>foo<span class="token punctuation">,</span>
    <span class="token literal-property property">obj2</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token literal-property property">foo</span><span class="token operator">:</span>foo
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//foo()函数的直接对象是obj1，this隐式绑定到obj1</span>
obj1<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>

<span class="token comment">//foo()函数的直接对象是obj2，this隐式绑定到obj2</span>
obj1<span class="token punctuation">.</span>obj2<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre></div><h3 id="隐式丢失🍒"><a href="#隐式丢失🍒" class="header-anchor">#</a> 隐式丢失🍒</h3> <p><strong>隐式丢失是指被隐式绑定的函数丢失绑定对象，从而默认绑定到window。</strong></p> <div class="custom-block danger"><p class="custom-block-title">[👣留心]</p> <p>这种情况容易出错却又常见</p></div> <h4 id="函数别名"><a href="#函数别名" class="header-anchor">#</a> 函数别名</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span>foo
<span class="token punctuation">}</span>
<span class="token comment">// 把obj.foo赋予别名bar，造成了隐式丢失，</span>
<span class="token comment">// 因为只是把foo()函数赋给了bar，而bar与obj对象则毫无关系</span>
<span class="token keyword">var</span> bar <span class="token operator">=</span> obj<span class="token punctuation">.</span>foo<span class="token punctuation">;</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre></div><p><strong>这种情况等价于下面示例</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//等价于</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre></div><h4 id="参数传递"><a href="#参数传递" class="header-anchor">#</a> 参数传递</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span>foo
<span class="token punctuation">}</span>
<span class="token comment">// 把obj.foo当作参数传递给bar函数时，有隐式的函数赋值fn=obj.foo。</span>
<span class="token comment">// 与上例函数别名类似，只是把foo函数赋给了fn，而fn与obj对象则毫无关系</span>
<span class="token function">bar</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//等价于</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="内置函数"><a href="#内置函数" class="header-anchor">#</a> 内置函数</h4> <p>内置函数与上例类似，也会造成隐式丢失</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span>foo
<span class="token punctuation">}</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>foo<span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

<span class="token comment">//等价于</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre></div><h4 id="间接引用"><a href="#间接引用" class="header-anchor">#</a> 间接引用</h4> <p>函数的&quot;间接引用&quot;一般都在无意间创建，最容易在赋值时发生，会造成隐式丢失</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> foo <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
o<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
<span class="token comment">// 将o.foo函数赋值给p.foo函数，然后立即执行。</span>
<span class="token comment">// 相当于仅仅是foo()函数的立即执行</span>
<span class="token punctuation">(</span>p<span class="token punctuation">.</span>foo <span class="token operator">=</span> o<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> foo <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
o<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
<span class="token comment">// 将o.foo函数赋值给p.foo函数，之后p.foo函数再执行</span>
<span class="token comment">// 属于p对象的foo函数的执行</span>
p<span class="token punctuation">.</span>foo <span class="token operator">=</span> o<span class="token punctuation">.</span>foo<span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//4</span>
</code></pre></div><h3 id="显式绑定"><a href="#显式绑定" class="header-anchor">#</a> 显式绑定</h3> <ul><li>通过call()、apply()、bind()方法把对象绑定到this上，叫做显式绑定。</li> <li>对于被调用的函数来说，叫做间接调用</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">+</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">+</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token operator">+</span>x<span class="token operator">+</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 0+3+4 = 7 !函数独立调用时，this默认绑定到window</span>
<span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2+3+4=9</span>
</code></pre></div><div class="custom-block danger"><p class="custom-block-title">[注意]</p> <ul><li><strong>普通的显式绑定无法解决隐式丢失问题</strong></li> <li>🐥硬绑定是显式绑定的一个变种，使this不能再被修改</li> <li>javascript中新增了许多内置函数，具有显式绑定的功能，如数组的5个迭代方法：map()、forEach()、filter()、some()、every()‘</li> <li>call(null) call(undefinde)  = 隐式绑定-&gt;window</li></ul></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">bar</span><span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 在bar函数内部手动调用foo.call(obj)。</span>
<span class="token comment">// 因此，无论之后如何调用函数bar，它总会手动在obj上调用foo</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span>bar<span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
<span class="token function">bar</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2</span>
</code></pre></div><h3 id="new绑定"><a href="#new绑定" class="header-anchor">#</a> new绑定</h3> <p><strong>如果函数或者方法调用之前带有关键字new，它就构成构造函数调用。对于this绑定来说，称为new绑定</strong></p> <ul><li>构造函数通常不使用return关键字，它们通常初始化新对象，当构造函数的函数体执行完毕时，它会显式返回。在这种情况下，构造函数调用表达式的计算结果就是这个新对象的值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {a:2}</span>
</code></pre></div><ul><li>如果构造函数使用return语句但没有指定返回值，或者返回一个原始值，那么这时将忽略返回值，同时使用这个新对象作为调用结果</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {a:2}</span>
</code></pre></div><ul><li>如果构造函数显式地使用return语句返回一个对象，那么调用表达式的值就是这个对象</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {a:1}</span>
</code></pre></div><div class="custom-block danger"><p class="custom-block-title">[👣注意]</p> <p>尽管有时候构造函数看起来像一个方法调用，它依然会使用这个新对象作为this。
也就是说，在表达式new o.m()中，this并不是 o</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">m</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">o<span class="token punctuation">.</span>m</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>obj <span class="token operator">===</span> o<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// {} false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>constructor <span class="token operator">===</span> o<span class="token punctuation">.</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// true</span>
</code></pre></div><h3 id="严格模式下"><a href="#严格模式下" class="header-anchor">#</a> 严格模式下</h3> <ul><li><strong>严格模式下，独立调用的函数的this指向undefined</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token string">'use strict'</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//undefined</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//window</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><strong>在非严格模式下，使用函数的call()或apply()方法时，null或undefined值会被转换为全局对象。而在严格模式下，函数的this值始终是指定的值</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> ball <span class="token operator">=</span> <span class="token string">'🏀'</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">showBall</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>ball<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">showBall</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 🏀</span>

<span class="token keyword">var</span> ball <span class="token operator">=</span> <span class="token string">'🏀'</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">showBall</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token string">'use strict'</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>ball<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">showBall</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TypeError: Cannot read property 'ball' of null</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">[提示]</p> <ul><li>this的四种绑定规则: <strong>【默认绑定、隐式绑定、显式绑定、new绑定】</strong></li> <li>对应的函数调用方式: <strong>【独立调用、方法调用、间接调用、构造函数调用】</strong>。</li></ul></div> <h2 id="this绑定优先级"><a href="#this绑定优先级" class="header-anchor">#</a> this绑定优先级</h2> <p>如果在函数的调用位置上同时存在两种以上的绑定规则,那就得考虑优先级得问题了。</p> <h3 id="显式绑定🆚隐式绑定"><a href="#显式绑定🆚隐式绑定" class="header-anchor">#</a> 显式绑定🆚隐式绑定</h3> <p><strong>显式绑定优先级更高</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> foo
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> foo
<span class="token punctuation">}</span><span class="token punctuation">;</span>
obj1<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
obj2<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3 </span>

<span class="token comment">// 在下面语句中，显式绑定call(obj2)和隐式绑定obj1.foo同时出现</span>
<span class="token comment">// 最终结果为3，说明被绑定到了obj2中</span>
obj1<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> obj2 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3  this指向obj2</span>

obj2<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> obj1 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2  this指向obj1</span>
</code></pre></div><h3 id="new绑定🆚隐式绑定"><a href="#new绑定🆚隐式绑定" class="header-anchor">#</a> new绑定🆚隐式绑定</h3> <p><strong>new绑定优先</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">something</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> something<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">foo</span><span class="token operator">:</span> foo<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
obj1<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> obj1<span class="token punctuation">.</span>a <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>

obj1<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj2<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> obj2<span class="token punctuation">.</span>a <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>

<span class="token comment">// 在下列代码中，隐式绑定obj1.foo和new绑定同时出现。</span>
<span class="token comment">// 最终obj1.a结果是2，而bar.a结果是4，说明this被绑定在bar上</span>
<span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">obj1<span class="token punctuation">.</span>foo</span><span class="token punctuation">(</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> obj1<span class="token punctuation">.</span>a <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> bar<span class="token punctuation">.</span>a <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 4</span>
</code></pre></div><h3 id="new绑定🆚显式绑定"><a href="#new绑定🆚显式绑定" class="header-anchor">#</a> new绑定🆚显式绑定</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">something</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> something<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//先将obj1绑定到foo函数中，此时this值为obj1</span>
<span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span> obj1 <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">bar</span><span class="token punctuation">(</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>

<span class="token comment">//通过new绑定，此时this值为baz</span>
<span class="token keyword">var</span> baz <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">bar</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> obj1<span class="token punctuation">.</span>a <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token comment">//说明使用new绑定时，在bar函数内，无论this指向obj1有没有生效，最终this都指向新创建的对象baz</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> baz<span class="token punctuation">.</span>a <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre></div><h3 id="判断顺序"><a href="#判断顺序" class="header-anchor">#</a> 判断顺序</h3> <ul><li>1、是否是new绑定？如果是，this绑定的是新创建的对象</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>2、是否是显式绑定？如果是，this绑定的是指定的对象</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>3、是否是隐式绑定？如果是，this绑定的是属于的对象</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> bar <span class="token operator">=</span> obj1<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><ul><li>4、如果都不是，则使用默认绑定</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="箭头函数下的this"><a href="#箭头函数下的this" class="header-anchor">#</a> 箭头函数下的this</h3> <p>箭头函数下的this有些特殊，函数体内的this对象就是定义时的所在的对象，而不是使用时所在的对象。</p> <p>例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>s1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>s2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s1<span class="token operator">++</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>s2 <span class="token operator">++</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>timer<span class="token punctuation">.</span>s1<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">3100</span><span class="token punctuation">)</span> <span class="token comment">//  3</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>timer<span class="token punctuation">.</span>s2<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">3100</span><span class="token punctuation">)</span> <span class="token comment">//  0</span>
</code></pre></div><p>Timer函数内部设置了两个定时器，分别使用了箭头函数和普通函数，箭头函数的this指向函数定义时所在的作用域(即Timer函数)，普通函数的this指向调用时所在的作用于（即全局对象window）。所以，3100ms之后，timer.s1加到了3，而timer.s2一次都没有更新。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/25/2022, 10:02:50 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/JavaScript/Module.html" class="prev">
        js模块化设计
      </a></span> <span class="next"><a href="/JavaScript/构造函数.html">
        构造函数
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><div></div></div></div>
    <script src="/assets/js/app.4ddddac2.js" defer></script><script src="/assets/js/2.d1971905.js" defer></script><script src="/assets/js/25.4efee689.js" defer></script>
  </body>
</html>
